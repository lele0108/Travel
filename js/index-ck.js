function validate(e){var t=this.value,n="0123456789",r;for(var i=0;i<this.value.length;i++){r=!1;for(var s=0;s<n.length;s++)this.value.charAt(i)==n.charAt(s)&&(r=!0);if(r==0){this.value=this.value.replace(this.value.charAt(i),"");i--}}return!0}function addEvent(e,t,n){if(e.addEventListener){e.addEventListener(t,n,!1);return!0}if(e.attachEvent){e["e"+t+n]=n;e[t+n]=function(){e["e"+t+n](window.event)};var r=e.attachEvent("on"+t,e[t+n]);return r}e["on"+t]=n;return!0}$(document).ready(function(){$("#city").focus();GET_PLACES=Backbone.Model.extend({urlRoot:"",defaults:{},initialize:function(){}});var e=new GET_PLACES;e.url="http://blankket-mk8te7kbzv.elasticbeanstalk.com/getcities";e.fetch({success:function(e){var t=[],n=0;for(var r in e.changed)e.changed.hasOwnProperty(r)&&n++;for(var i=0;i<n;i++)t.push(e.changed[i]);$("#city").autocomplete({source:t})}});e.url="http://blankket-mk8te7kbzv.elasticbeanstalk.com/getplaces?city=San%20Francisco";e.fetch({success:function(e){var t=[],n=0;for(var r in e.changed)e.changed.hasOwnProperty(r)&&n++;for(var i=0;i<n;i++)t.push(e.changed[i]);$("#location_place").autocomplete({source:function(e,n){var r=$.ui.autocomplete.filter(t,e.term);n(r.slice(0,10))}})}})});setInterval(function(){$("#city").val()=="San Francisco"||$("#city").val()=="Boston"||$("#city").val()=="New York"?$("#point_interest").css("display","block"):$("#point_interest").css("display","none")},20);$("#city").keypress(function(e){if(e.which==13){e.preventDefault();$("#duration").val()==""&&$("#duration").val("3");window.location="list.html?city="+$("#city").val()+"&duration="+$("#duration").val()+"&location="+$("#location_place").val()}});$("#duration").keypress(function(e){if(e.which==13){e.preventDefault();$("#duration").val()==""&&$("#duration").val("3");window.location="list.html?city="+$("#city").val()+"&duration="+$("#duration").val()+"&location="+$("#location_place").val()}});$("#location_place").keypress(function(e){if(e.which==13){e.preventDefault();$("#duration").val()==""&&$("#duration").val("3");window.location="list.html?city="+$("#city").val()+"&duration="+$("#duration").val()+"&location="+$("#location_place").val()}});addEvent(document.getElementById("duration"),"keyup",validate);addEvent(document.getElementById("duration"),"mouseover",validate);